
<p ng-if="main.isAuthenticated() && main.currentUserId === usersProfile.user.id"><a ui-sref="usersEdit({ id: usersProfile.user.id })">Edit Your Profile</a></p>

<h2>{{ usersProfile.user.username }}'s Profile</h2>
<p>{{ usersProfile.currentUser.locked}}</p>

<img class="img-small" src="{{ usersProfile.user.profilePic }}">
<br>
<br>
<p ng-if="main.isAuthenticated() && main.currentUser.locked === false"><a ui-sref="message({ id: usersProfile.user.id })">Message {{ usersProfile.user.username }}</a></p>
<p><b>Currently learning: </b>{{ usersProfile.user.learning }}</p>
<p><b>About: </b>{{ usersProfile.user.about }}</p>

<h2>Languages offered:</h2>
<div ng-repeat="details in usersProfile.user.skills track by $index">
  <h4>{{ details.language.lang }} ({{ details.level }})</h4>
</div>

<div class="reviews">
  <h2>Reviews</h2>
  <ul class="reviews__created">
    <li ng-repeat="review in usersProfile.user.reviews track by $index"><strong>{{ review.createdBy.username }}</strong> - {{ review.content }} - {{ review.rating }}<br><button class="button" ng-if="main.isAuthenticated() && username.currentUserId === review.createdBy.Id" ng-click="usersProfile.deleteReview(review)">Delete your comment</button></li>
  </ul>
  <form ng-submit="usersProfile.addReview()" ng-if="main.isAuthenticated()">
    <label>Review this user</label>
    <textarea ng-model="usersProfile.newReview.content"></textarea>
    <!-- <textarea ng-model="usersProfile.newReview.rating"></textarea> -->
    <button class="button button--full">Post Review</button>
  </form>
  <br>
</div>
