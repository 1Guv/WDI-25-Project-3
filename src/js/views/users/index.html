<!DOCTYPE html>
<div class="section">
  <!-- <div class="abc"> -->
  <div class="row">
    <div class="col-xs-8 leftSideIndex">
      <div class="row">
        <input type="text" class="search" ng-model="usersIndex.q" placeholder="Search...">
        <div class="col-xs-4" ng-repeat="user in usersIndex.filtered | orderBy:'-created_at'">
          <div class="card">
            <!-- <div>{{user.created_at}}</div> -->
            <h3>{{ user.username }}</h3>
            <img class="img-small" src="{{ user.profilePic }}">
            <!-- <img class="img-small" src="{{ user.profilePic || '../../images/placeholder.jpg' }}"> -->
            <!-- <p>User ID: {{ user.id }}</p> -->
            <!-- <p>Email: {{ user.email }}</p> -->
            <!-- <h1>Skills Object: {{ user.skills }}</h1> -->
            <p>{{ user.skills[0].language.lang || 'No skills yet' }} ({{ user.skills[0].level || 'Beginner' }})</p>
            <!-- <p>Language ID: {{ user.skills[0].id }}</p> -->
            <p><a ui-sref="usersProfile({ id: user.id })">View Profile</a></p>
            <p ng-if="main.isAuthenticated() && main.currentUser.locked === false && main.currentUser.id !== user.id"><a ui-sref="message({ id: user.id })">Send Message</a></p>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xs-4 rightSideIndex">
      <input id="slider" type="range" min="1000" max="100000" step="1000" value="10000">
      <p>Display users within <span class="see" id="sliderAmount">10</span> km</p>

      <google-map users="usersIndex.filtered" ng-if="usersIndex.filtered" query="usersIndex.q"></google-map>
    </div>
  </div>
</div>
