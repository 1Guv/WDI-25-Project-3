<!DOCTYPE html>
<div ng-hide="main.isAuthenticated()" class="overlay"></div>

<div ng-hide="main.isAuthenticated()" class="index-login">
  <br>
  <div class="index-title">Speak<span class="font-anton">Easy</span></div>
  <br><br>
  <div class="index-strapline">Meet up, Speak up, Language exchange...</div>
  <br>
  <div class="login-buttons">

    <a ui-sref="login">
      <md-button type="submit" ng-click="" class="waves-effect waves-light btn done">
        <i class="material-icons left"></i> <span class="white-links">Login</span>
      </md-button>
    </a>

    <a ui-sref="register">
      <md-button type="submit" ng-click="" class="waves-effect waves-light btn done">
        <i class="material-icons left"></i> <span class="white-links">Register</span>
      </md-button>
    </a>

  </div>

</div>

<div class="section">
  <!-- <div class="abc"> -->
  <div class="row">
    <div class="col-xs-8 leftSideIndex">
      <div class="searchBoxIndex">
        <input type="text" class="search" ng-model="usersIndex.q" placeholder="Search...">
      </div>
      <div class="row">
        <div class="col-xs-4" ng-repeat="user in usersIndex.filtered | orderBy:'-created_at'">
          <div class="card">
            <!-- <div>{{user.created_at}}</div> -->
            <h3>{{ user.username }}</h3>
            <div>
              <img class="img-small" src="{{ user.profilePic }}">
            </div>
            <!-- <img class="img-small" src="{{ user.profilePic || '../../images/placeholder.jpg' }}"> -->
            <!-- <p>User ID: {{ user.id }}</p> -->
            <!-- <p>Email: {{ user.email }}</p> -->
            <!-- <h1>Skills Object: {{ user.skills }}</h1> -->
            <p>{{ user.skills[0].language.lang || 'No skills yet' }} ({{ user.skills[0].level || 'Beginner' }})</p>
            <!-- <p>Language ID: {{ user.skills[0].id }}</p> -->
            <p><a ui-sref="usersProfile({ id: user.id })">View Profile</a></p>
            <p ng-if="main.isAuthenticated() && main.currentUser.locked === false && main.currentUser.id !== user.id"><a ui-sref="message({ id: user.id })">Send Message</a></p>
            <p class="see" ng-if="main.isAuthenticated() && main.currentUser.locked === true && main.currentUser.id !== user.id">Send Message</p>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xs-4 rightSideIndex">
      <input id="slider" type="range" min="1000" max="100000" step="1000" value="10000">
      <p>Display users within <span class="see" id="sliderAmount">10</span> km</p>
      <google-map users="usersIndex.filtered" ng-if="usersIndex.filtered" query="usersIndex.q"></google-map>
    </div>
  </div>
</div>
